
  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user Stata perpetual license:
       Serial number:  401506399072
         Licensed to:  Nik Lomax
                       The University of Leeds

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  Maximum number of variables is set to 5000; see help set_maxvar.

. do "ELSA_bmi_trans.do" 

. clear all

. 
. quietly include ../../fem_env.do

. 
. local in_file : env INPUT

. 
. local out_file : env OUTPUT

. 
. local ster "$local_path/Estimates/ELSA_bmi1" /* ster file for storing estimat
> es */

. *local ster "../../Estimates/ELSA" /* ster file for storing estimates */
. 
. 
. use $outdata/transition_pop.dta

. *use ../../input_data/transition_pop.dta, replace
. 
. drop l2logbmi

. 
. gen l2logbmi = L2.logbmi
(32,407 missing values generated)

. 
. global ols logbmi

. 
. 
. global allvars_logbmi male hsless college l2age65l l2age6574 l2age75p l2cancr
> e l2diabe l2hearte l2hibpe l2lunge l2stroke l2adl1 l2adl2 l2adl3p l2iadl1 l2i
> adl2p l2logbmi l2smokev l2smoken 

. 
. 
. local select_logbmi !died & inlist(wave, 4, 6)

. 
. 
. /*********************************************************************/
. * ESTIMATE OLS
. /*********************************************************************/
. 
. foreach n in $ols {
  2.         local x = "allvars_`n'"
  3.         reg `n' $`x' if `select_`n''
  4.         mfx2, stub(ols_`n') se
  5.   est save "`ster'/`n'.ster", replace
  6.   est restore ols_`n'_mfx
  7.   est store ols_`n'_mfx
  8. }

      Source |       SS           df       MS      Number of obs   =    15,022
-------------+----------------------------------   F(20, 15001)    =   1141.41
       Model |  222.782225        20  11.1391113   Prob > F        =    0.0000
    Residual |  146.395335    15,001  .009759038   R-squared       =    0.6035
-------------+----------------------------------   Adj R-squared   =    0.6029
       Total |   369.17756    15,021  .024577429   Root MSE        =    .09879

------------------------------------------------------------------------------
      logbmi |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        male |   .0015031   .0016846     0.89   0.372    -.0017989    .0048051
      hsless |   .0036271   .0020266     1.79   0.074    -.0003454    .0075995
     college |  -.0052101   .0020189    -2.58   0.010    -.0091674   -.0012528
    l2age65l |  -.0001961    .000272    -0.72   0.471    -.0007292    .0003371
   l2age6574 |  -.0011114     .00028    -3.97   0.000    -.0016602   -.0005626
    l2age75p |  -.0012551   .0002805    -4.47   0.000    -.0018049   -.0007052
    l2cancre |   .0043003    .002894     1.49   0.137    -.0013724    .0099729
     l2diabe |   .0025127    .002815     0.89   0.372    -.0030049    .0080304
    l2hearte |  -.0012469   .0021865    -0.57   0.569    -.0055328    .0030389
     l2hibpe |   .0101496   .0017193     5.90   0.000     .0067794    .0135197
     l2lunge |  -.0019719   .0035105    -0.56   0.574    -.0088528    .0049091
    l2stroke |   -.009007   .0041083    -2.19   0.028    -.0170598   -.0009542
      l2adl1 |   .0081653   .0029772     2.74   0.006     .0023297    .0140009
      l2adl2 |   .0088037   .0044535     1.98   0.048     .0000744     .017533
     l2adl3p |  -.0036073   .0047002    -0.77   0.443    -.0128202    .0056057
     l2iadl1 |   .0064026   .0029252     2.19   0.029     .0006688    .0121363
    l2iadl2p |   .0045779   .0036209     1.26   0.206    -.0025196    .0116753
    l2logbmi |   .7588917   .0054235   139.93   0.000     .7482609    .7695225
    l2smokev |   .0037787     .00178     2.12   0.034     .0002897    .0072677
    l2smoken |  -.0139858   .0025951    -5.39   0.000    -.0190725    -.008899
       _cons |   .8143391   .0242849    33.53   0.000     .7667377    .8619404
------------------------------------------------------------------------------

Computing marginal effects after regress for logbmi...


Marginal effects after regress
      y  = Fitted values (predict)
         =  3.3241879
------------------------------------------------------------------------------
variable |      dy/dx    Std. Err.     z    P>|z|  [    95% C.I.   ]      X
---------+--------------------------------------------------------------------
    male*|   .0015031      .00168    0.89   0.372  -.001799  .004805   .436227
  hsless*|   .0036271      .00203    1.79   0.074  -.000345  .007599   .341366
 college*|  -.0052101      .00202   -2.58   0.010  -.009167 -.001253   .332978
l2age65l |  -.0001961      .00027   -0.72   0.471  -.000729  .000337     60.74
l2a~6574 |  -.0011114      .00028   -3.97   0.000   -.00166 -.000563   4.17195
l2age75p |  -.0012551      .00028   -4.47   0.000  -.001805 -.000705   1.71895
l2cancre*|   .0043003      .00289    1.49   0.137  -.001372  .009972   .086673
 l2diabe*|   .0025127      .00281    0.89   0.372  -.003004   .00803   .097856
l2hearte*|  -.0012469      .00219   -0.57   0.568  -.005532  .003039   .176341
 l2hibpe*|   .0101496      .00172    5.90   0.000    .00678  .013519   .433631
 l2lunge*|  -.0019719      .00351   -0.56   0.574  -.008852  .004909   .058647
l2stroke*|   -.009007      .00411   -2.19   0.028  -.017059 -.000955   .043004
  l2adl1*|   .0081653      .00298    2.74   0.006    .00233     .014   .094861
  l2adl2*|   .0088037      .00445    1.98   0.048   .000075  .017532   .040807
 l2adl3p*|  -.0036073       .0047   -0.77   0.443  -.012819  .005605   .045533
 l2iadl1*|   .0064026      .00293    2.19   0.029   .000669  .012136   .098988
l2iadl2p*|   .0045779      .00362    1.26   0.206  -.002519  .011675   .094728
l2logbmi |   .7588917      .00542  139.93   0.000   .748262  .769522   3.32263
l2smokev*|   .0037787      .00178    2.12   0.034    .00029  .007267   .622154
l2smoken*|  -.0139858       .0026   -5.39   0.000  -.019072 -.008899   .129477
------------------------------------------------------------------------------
(*) dy/dx is for discrete change of dummy variable from 0 to 1

Preparing final results...


Original results are now active. mfx results are stored as ols_logbmi_mfx.

-------------------------------------------------------------------------------
Model ols_logbmi_mfx (Marginal effects after regress)
-------------------------------------------------------------------------------
------------------------------------------------------------------------------
      logbmi |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        male |   .0015031   .0016846     0.89   0.372    -.0017989    .0048051
      hsless |   .0036271   .0020266     1.79   0.074    -.0003454    .0075995
     college |  -.0052101   .0020189    -2.58   0.010    -.0091674   -.0012528
    l2age65l |  -.0001961    .000272    -0.72   0.471    -.0007292    .0003371
   l2age6574 |  -.0011114     .00028    -3.97   0.000    -.0016602   -.0005626
    l2age75p |  -.0012551   .0002805    -4.47   0.000    -.0018049   -.0007052
    l2cancre |   .0043003    .002894     1.49   0.137    -.0013724    .0099729
     l2diabe |   .0025127    .002815     0.89   0.372    -.0030049    .0080304
    l2hearte |  -.0012469   .0021865    -0.57   0.569    -.0055328    .0030389
     l2hibpe |   .0101496   .0017193     5.90   0.000     .0067794    .0135197
     l2lunge |  -.0019719   .0035105    -0.56   0.574    -.0088528    .0049091
    l2stroke |   -.009007   .0041083    -2.19   0.028    -.0170598   -.0009542
      l2adl1 |   .0081653   .0029772     2.74   0.006     .0023297    .0140009
      l2adl2 |   .0088037   .0044535     1.98   0.048     .0000744     .017533
     l2adl3p |  -.0036073   .0047002    -0.77   0.443    -.0128202    .0056057
     l2iadl1 |   .0064026   .0029252     2.19   0.029     .0006688    .0121363
    l2iadl2p |   .0045779   .0036209     1.26   0.206    -.0025196    .0116753
    l2logbmi |   .7588917   .0054235   139.93   0.000     .7482609    .7695225
    l2smokev |   .0037787     .00178     2.12   0.034     .0002897    .0072677
    l2smoken |  -.0139858   .0025951    -5.39   0.000    -.0190725    -.008899
------------------------------------------------------------------------------
(note: file /home/ld-archer/Documents/UK_FEM/trunk/FEM_Stata/Estimates/ELSA_bmi
> 1/logbmi.ster not found)
file /home/ld-archer/Documents/UK_FEM/trunk/FEM_Stata/Estimates/ELSA_bmi1/logbm
> i.ster saved
(results ols_logbmi_mfx are active now)

. 
. 
. 
. local ster "$local_path/Estimates/ELSA_bmi2" /* ster file for storing estimat
> es */

. *local ster "../../Estimates/ELSA" /* ster file for storing estimates */
. 
. 
. use $outdata/transition_pop.dta, replace

. *use ../../../input_data/transition_pop.dta
. 
. drop l2logbmi

. 
. gen l2logbmi = L.logbmi
(18,821 missing values generated)

. 
. *interpolate
. ipolate l2logbmi wave, gen(newl2bmi)
(10659 missing values generated)

. 
. replace l2logbmi = newl2bmi if missing(l2logbmi)
(8,162 real changes made)

. 
. global ols logbmi

. 
. 
. global allvars_logbmi male hsless college l2age65l l2age6574 l2age75p l2cancr
> e l2diabe l2hearte l2hibpe l2lunge l2stroke l2adl1 l2adl2 l2adl3p l2iadl1 l2i
> adl2p l2logbmi l2smokev l2smoken 

. 
. 
. local select_logbmi !died & inlist(wave, 4, 6)

. 
. 
. /*********************************************************************/
. * ESTIMATE OLS
. /*********************************************************************/
. 
. foreach n in $ols {
  2.         local x = "allvars_`n'"
  3.         reg `n' $`x' if `select_`n''
  4.         mfx2, stub(ols_`n') se
  5.   est save "`ster'/`n'.ster", replace
  6.   est restore ols_`n'_mfx
  7.   est store ols_`n'_mfx
  8. }

      Source |       SS           df       MS      Number of obs   =    16,943
-------------+----------------------------------   F(20, 16922)    =   1012.82
       Model |  223.914828        20  11.1957414   Prob > F        =    0.0000
    Residual |  187.055573    16,922  .011053987   R-squared       =    0.5448
-------------+----------------------------------   Adj R-squared   =    0.5443
       Total |  410.970401    16,942   .02425749   Root MSE        =    .10514

------------------------------------------------------------------------------
      logbmi |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        male |   .0028174   .0016845     1.67   0.094    -.0004844    .0061192
      hsless |   .0022761   .0020475     1.11   0.266    -.0017373    .0062894
     college |  -.0085993   .0020258    -4.24   0.000    -.0125701   -.0046286
    l2age65l |  -.0003368   .0002301    -1.46   0.143    -.0007879    .0001143
   l2age6574 |  -.0010529   .0002859    -3.68   0.000    -.0016134   -.0004924
    l2age75p |  -.0015046   .0002917    -5.16   0.000    -.0020764   -.0009327
    l2cancre |   .0031716   .0029817     1.06   0.287    -.0026729     .009016
     l2diabe |   .0076076   .0028743     2.65   0.008     .0019737    .0132415
    l2hearte |  -.0012527   .0022323    -0.56   0.575    -.0056283    .0031229
     l2hibpe |   .0139386   .0017385     8.02   0.000     .0105308    .0173463
     l2lunge |  -.0030707   .0036224    -0.85   0.397    -.0101709    .0040296
    l2stroke |  -.0097057   .0042423    -2.29   0.022    -.0180211   -.0013903
      l2adl1 |   .0087092   .0030309     2.87   0.004     .0027683    .0146501
      l2adl2 |    .010755   .0045611     2.36   0.018     .0018148    .0196952
     l2adl3p |  -.0022624   .0048005    -0.47   0.637    -.0116719    .0071471
     l2iadl1 |   .0093214   .0029831     3.12   0.002     .0034742    .0151687
    l2iadl2p |   .0083621   .0036872     2.27   0.023     .0011348    .0155894
    l2logbmi |   .7525638   .0057424   131.05   0.000     .7413081    .7638196
    l2smokev |   .0038616   .0017901     2.16   0.031     .0003528    .0073704
    l2smoken |  -.0174434   .0025551    -6.83   0.000    -.0224517   -.0124352
       _cons |   .8428547   .0234746    35.91   0.000     .7968421    .8888673
------------------------------------------------------------------------------

Computing marginal effects after regress for logbmi...


Marginal effects after regress
      y  = Fitted values (predict)
         =  3.3245011
------------------------------------------------------------------------------
variable |      dy/dx    Std. Err.     z    P>|z|  [    95% C.I.   ]      X
---------+--------------------------------------------------------------------
    male*|   .0028174      .00168    1.67   0.094  -.000484  .006119   .438765
  hsless*|   .0022761      .00205    1.11   0.266  -.001737  .006289   .338783
 college*|  -.0085993      .00203   -4.24   0.000   -.01257 -.004629   .345984
l2age65l |  -.0003368      .00023   -1.46   0.143  -.000788  .000114   60.0233
l2a~6574 |  -.0010529      .00029   -3.68   0.000  -.001613 -.000492   3.84973
l2age75p |  -.0015046      .00029   -5.16   0.000  -.002076 -.000933   1.57717
l2cancre*|   .0031716      .00298    1.06   0.287  -.002672  .009016   .081686
 l2diabe*|   .0076076      .00287    2.65   0.008   .001974  .013241   .094021
l2hearte*|  -.0012527      .00223   -0.56   0.575  -.005628  .003123   .168683
 l2hibpe*|   .0139386      .00174    8.02   0.000   .010531  .017346   .417163
 l2lunge*|  -.0030707      .00362   -0.85   0.397   -.01017  .004029   .055126
l2stroke*|  -.0097057      .00424   -2.29   0.022  -.018021 -.001391    .04043
  l2adl1*|   .0087092      .00303    2.87   0.004   .002769   .01465   .091542
  l2adl2*|    .010755      .00456    2.36   0.018   .001815  .019695   .039131
 l2adl3p*|  -.0022624       .0048   -0.47   0.637  -.011671  .007146    .04403
 l2iadl1*|   .0093214      .00298    3.12   0.002   .003475  .015168   .094906
l2iadl2p*|   .0083621      .00369    2.27   0.023   .001135  .015589   .092191
l2logbmi |   .7525638      .00574  131.05   0.000   .741309  .763819   3.32261
l2smokev*|   .0038616      .00179    2.16   0.031   .000353   .00737   .617364
l2smoken*|  -.0174434      .00256   -6.83   0.000  -.022451 -.012436   .137284
------------------------------------------------------------------------------
(*) dy/dx is for discrete change of dummy variable from 0 to 1

Preparing final results...


Original results are now active. mfx results are stored as ols_logbmi_mfx.

-------------------------------------------------------------------------------
Model ols_logbmi_mfx (Marginal effects after regress)
-------------------------------------------------------------------------------
------------------------------------------------------------------------------
      logbmi |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        male |   .0028174   .0016845     1.67   0.094    -.0004844    .0061192
      hsless |   .0022761   .0020475     1.11   0.266    -.0017373    .0062894
     college |  -.0085993   .0020258    -4.24   0.000    -.0125701   -.0046286
    l2age65l |  -.0003368   .0002301    -1.46   0.143    -.0007879    .0001143
   l2age6574 |  -.0010529   .0002859    -3.68   0.000    -.0016134   -.0004924
    l2age75p |  -.0015046   .0002917    -5.16   0.000    -.0020764   -.0009327
    l2cancre |   .0031716   .0029817     1.06   0.287    -.0026729     .009016
     l2diabe |   .0076076   .0028743     2.65   0.008     .0019737    .0132415
    l2hearte |  -.0012527   .0022323    -0.56   0.575    -.0056283    .0031229
     l2hibpe |   .0139386   .0017385     8.02   0.000     .0105308    .0173463
     l2lunge |  -.0030707   .0036224    -0.85   0.397    -.0101709    .0040296
    l2stroke |  -.0097057   .0042423    -2.29   0.022    -.0180211   -.0013903
      l2adl1 |   .0087092   .0030309     2.87   0.004     .0027683    .0146501
      l2adl2 |    .010755   .0045611     2.36   0.018     .0018148    .0196952
     l2adl3p |  -.0022624   .0048005    -0.47   0.637    -.0116719    .0071471
     l2iadl1 |   .0093214   .0029831     3.12   0.002     .0034742    .0151687
    l2iadl2p |   .0083621   .0036872     2.27   0.023     .0011348    .0155894
    l2logbmi |   .7525638   .0057424   131.05   0.000     .7413081    .7638196
    l2smokev |   .0038616   .0017901     2.16   0.031     .0003528    .0073704
    l2smoken |  -.0174434   .0025551    -6.83   0.000    -.0224517   -.0124352
------------------------------------------------------------------------------
(note: file /home/ld-archer/Documents/UK_FEM/trunk/FEM_Stata/Estimates/ELSA_bmi
> 2/logbmi.ster not found)
file /home/ld-archer/Documents/UK_FEM/trunk/FEM_Stata/Estimates/ELSA_bmi2/logbm
> i.ster saved
(results ols_logbmi_mfx are active now)

. 
. 
. 
. 
end of do-file
